# Chronicle Default Configuration
# This file is committed to the repository and provides base defaults.
# To customize for your environment, run ./quick-start.sh which will generate .env

# ==========================================
# DOCKER COMPOSE PROJECT NAME
# ==========================================
COMPOSE_PROJECT_NAME=chronicle

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================
# REQUIRED: Run ./quick-start.sh to generate a secure AUTH_SECRET_KEY
# This is needed for JWT token signing and must be set before backend starts
AUTH_SECRET_KEY=

# Admin account setup (two options):
# Option 1: Set ADMIN_PASSWORD here for automatic admin creation on startup (good for Docker/CI)
# Option 2: Leave ADMIN_PASSWORD empty to create admin via web UI setup screen at /setup
ADMIN_NAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=

# ==========================================
# GRACEFUL DEGRADATION SETTINGS
# ==========================================
ALLOW_MISSING_API_KEYS=true
LLM_REQUIRED=false
TRANSCRIPTION_REQUIRED=false

# ==========================================
# DATABASE CONFIGURATION (Shared Infrastructure)
# ==========================================
# All worktrees share the same MongoDB/Redis/Qdrant instances
# Isolation is achieved via database names (MongoDB) and database numbers (Redis)
MONGODB_URI=mongodb://mongo:27017
MONGODB_DATABASE=chronicle
REDIS_URL=redis://redis:6379/0
REDIS_DATABASE=0
QDRANT_BASE_URL=qdrant
QDRANT_PORT=6333

# ==========================================
# NETWORK CONFIGURATION (Application Ports Only)
# ==========================================
# Port offset for running multiple worktree instances (default: 0)
# Each worktree should use a different offset: blue=0, gold=10, green=20, red=30
PORT_OFFSET=0
BACKEND_PORT=8000
WEBUI_PORT=3000
HOST_IP=localhost

# CORS origins with port offset support
# For multi-worktree setups, this uses BACKEND_PORT and WEBUI_PORT variables
CORS_ORIGINS=http://localhost:${WEBUI_PORT:-3000},http://127.0.0.1:${WEBUI_PORT:-3000},http://localhost:${BACKEND_PORT:-8000},http://127.0.0.1:${BACKEND_PORT:-8000}
VITE_BACKEND_URL=http://localhost:${BACKEND_PORT:-8000}

# ==========================================
# ENVIRONMENT IDENTIFICATION
# ==========================================
ENV_NAME=default

# ==========================================
# TEST ENVIRONMENT PORTS (for parallel testing)
# ==========================================
# Tests use SHARED infrastructure (MongoDB:27017, Redis:6379, Qdrant:6333)
# Only backend/webui ports are offset to support parallel testing across worktrees
TEST_BACKEND_PORT=8001
TEST_WEBUI_PORT=3001

# ==========================================
# SERVICE CONFIGURATION
# ==========================================
LLM_PROVIDER=openai
OPENAI_MODEL=gpt-4o-mini
MEMORY_PROVIDER=chronicle
TRANSCRIPTION_PROVIDER=deepgram

# ==========================================
# API KEYS
# ==========================================
# Add your API keys here or run ./quick-start.sh
# OPENAI_API_KEY=
# DEEPGRAM_API_KEY=
# MISTRAL_API_KEY=
